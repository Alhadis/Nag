(function(){"use strict";var e=window,n=document,t=true,o=false,i=null,r=function(){},s,c="addEventListener",u="removeEventListener",a="querySelector",f=a+"All",d=Array.prototype.forEach,h=function(e,t,o){if(!e){var r=n.cookie.split(/;\s*/g),s={},c,u,a;for(u=0,a=r.length;u<a;++u)if(c=r[u].indexOf("="))s[r[u].substr(0,c)]=decodeURIComponent(r[u].substr(c+1));return s}if(undefined===t){r=n.cookie.split(/;\s*/g),c=e.length+1;for(var u=0,a=r.length;u<a;++u)if(e+"="===r[u].substr(0,c))return decodeURIComponent(r[u].substr(c));return i}else{o=o||{};if(i===t){t="";o.expires=-1}if(o.expires){var f=o.expires,f=(!f.toUTCString?new Date(Date.now()+864e5*f):f).toUTCString()}n.cookie=e+"="+encodeURIComponent(t)+(f?"; expires="+f:"")+(o.path?"; path="+o.path:"")+(o.domain?"; domain="+o.domain:"")+(o.secure?"; secure":"")}},l=function(n,a){var l=this,m=a.cookieName||(n.id?"shown-"+n.id:"")||"nag-dismissed",p={domain:a.cookieDomain,expires:a.cookieExpires||7,path:a.cookiePath||"/",secure:a.cookieSecure},k=a.eventName||"scroll",g=a.eventTarget||e,v=a.onHide||r,w=a.onShow||r,x=a.showAfter,x=s===x?4e3:Math.max(0,x),C=a.showClass||"show",T,b=function(){clearTimeout(T);g[u](k,b);l.show=t},S=o,U;Object.defineProperties(l,{silenced:{get:function(){return U}},show:{get:function(){return S},set:function(e){e=!!e;if(e!==S){S=e;n.classList[S?"add":"remove"](C);S?w(l):v(l)}}}});if(!+h(m)){if(k){setTimeout(function(){g[c](k,b)},100)}if(x)T=setTimeout(b,x)}l.kick=function(){h(m,1,p);l.show=o;U=t;return l};l.reset=function(){h(m,i);return l};l.kickWhen=function(e){var t,o;for(t in e){o=e[t]+"";d.call(n[f](o),function(e){e[c](t,function(){l.kick()})})}return l}};e.Nag=l})();
