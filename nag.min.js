(function(){"use strict";var e=window,n=document,t=true,i=false,o=null,r=function(){},s,c="EventListener",u="add"+c,f="remove"+c,a="querySelector",l=a+"All",h=Array.prototype.forEach,d=function(e,t,i){var r=n.cookie,c=/;\s*/g,u={},f=decodeURIComponent,a,l,h,d;if(!e){for(r=r.split(c),l=0,h=r.length;l<h;++l)if(r[l]&&(a=r[l].indexOf("=")))u[r[l].substr(0,a)]=f(r[l].substr(a+1));return u}if(s===t){for(r=r.split(c),a=e.length+1,l=0,h=r.length;l<h;++l)if(e+"="===r[l].substr(0,a))return f(r[l].substr(a));return o}else{i=i||{};d=i.expires;if(null===t)t="",d=-1;if(d)d=(!d.toUTCString?new Date(Date.now()+864e5*d):d).toUTCString();n.cookie=e+"="+encodeURIComponent(t)+(d?"; expires="+d:"")+(i.path?"; path="+i.path:"")+(i.domain?"; domain="+i.domain:"")+(i.secure?"; secure":"")}},k=function(n,c){var a=this,k=c.cookieName||(n.id?"shown-"+n.id:"")||"nag-dismissed",m={domain:c.cookieDomain,expires:c.cookieExpires||7,path:c.cookiePath||"/",secure:c.cookieSecure},p=c.eventName||"scroll",w=c.eventTarget||e,g=c.onHide||r,v=c.onShow||r,x=c.showAfter,x=s===x?4e3:Math.max(0,x),S=c.showClass||"show",T,b=function(){clearTimeout(T);w[f](p,b);a.show=t},C=function(){a.kick()},y=function(){a.kick(t)},U=function(e,t){var i,o;for(i in e){o=e[i]+"";h.call(n[l](o),function(e){e[u](i,t?y:C)})}return a},A=function(){if(!+d(k)){if(p){setTimeout(function(){w[u](p,b)},100)}if(x)T=setTimeout(b,x);U(c.kickWhen);U(c.kickSoftlyWhen,t)}},D=i,E;Object.defineProperties(a,{silenced:{get:function(){return E}},show:{get:function(){return D},set:function(e){e=!!e;if(e!==D){D=e;n.classList[D?"add":"remove"](S);D?v(a):g(a)}}}});a.kick=function(e){d(k,1,m);a.show=e;E=t;return a};a.reset=function(e){d(k,o,m);e&&A();return a};a.setKick=a.kickWhen=U;A()};e.Nag=k})();
