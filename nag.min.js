(function(){"use strict";var e=window,t=document,n=true,o=false,i=null,r=function(){},c,s="EventListener",u="add"+s,f="remove"+s,a="querySelector",l=a+"All",h="string",k=Array.prototype.forEach,d=function(e,n,o){var r=t.cookie,s=/;\s*/g,u={},f=decodeURIComponent,a,l,h,k;if(!e){for(r=r.split(s),l=0,h=r.length;l<h;++l)if(r[l]&&(a=r[l].indexOf("=")))u[r[l].substr(0,a)]=f(r[l].substr(a+1));return u}if(c===n){for(r=r.split(s),a=e.length+1,l=0,h=r.length;l<h;++l)if(e+"="===r[l].substr(0,a))return f(r[l].substr(a));return i}else{o=o||{};k=o.expires;if(null===n)n="",k=-1;if(k)k=(!k.toUTCString?new Date(Date.now()+864e5*k):k).toUTCString();t.cookie=e+"="+encodeURIComponent(n)+(k?"; expires="+k:"")+(o.path?"; path="+o.path:"")+(o.domain?"; domain="+o.domain:"")+(o.secure?"; secure":"")}},m=function(s,m,p){var g=this,p=arguments.length===1?n:p,s=h===typeof s?t[a](s):s,m=h===typeof m?{cookieName:m}:m||{},w=m.cookieName||(s.id?"shown-"+s.id:"")||"nag-dismissed",v={domain:m.cookieDomain,expires:m.cookieExpires||365,path:m.cookiePath||"/",secure:m.cookieSecure},b=m.eventName||"scroll",x=m.eventTarget||e,y=m.onHide||r,S=m.onShow||r,T=m.showAfter,T=c===T?4e3:Math.max(0,T),C=m.showClass||"show",N,U=function(){clearTimeout(N);x[f](b,U);g.show=n},A=function(){g.kick()},D=function(){g.kick(n)},E=function(e,t){var n,o;for(n in e){o=e[n]+"";k.call(s[l](o),function(e){e[u](n,t?D:A)})}return g},W=function(){if(!+d(w)){if(b){setTimeout(function(){x[u](b,U)},100)}if(T)N=setTimeout(U,T);E(m.kickWhen);E(m.kickSoftlyWhen,n)}},I=o,L;Object.defineProperties(g,{silenced:{get:function(){return L}},show:{get:function(){return I},set:function(e){e=!!e;if(e!==I){I=e;s.classList[I?"add":"remove"](C);I?S(g):y(g)}}}});if(p){E({click:".close, .cancel, .close-btn"});E({submit:"form"},true)}g.kick=function(e){d(w,1,v);g.show=e;L=n;return g};g.reset=function(e){d(w,i,v);e&&W();return g};g.setKick=g.kickWhen=E;W()};e.Nag=m})();
